var p=Object.defineProperty,v=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var o=(t,s,e)=>s in t?p(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,i=(t,s)=>{for(var e in s||(s={}))h.call(s,e)&&o(t,e,s[e]);if(r)for(var e of r(s))b.call(s,e)&&o(t,e,s[e]);return t},c=(t,s)=>v(t,f(s));import{m as y,b as x}from"./vendor.726b2fae.js";import{p as D,n as M}from"./index.424e46e8.js";import{N as C}from"./index.02d5f546.js";const I=[{label:"\u5168\u90E8\u901A\u77E5",value:"msgData"},{label:"\u672A\u8BFB\u901A\u77E5",value:"unreadMsg"},{label:"\u5DF2\u8BFB\u901A\u77E5",value:"readMsg"}];var S={name:"list-base",data(){return{NOTIFICATION_TYPES:C,TAB_LIST:I,prefix:D,data:[],tabValue:"msgData",visible:!1,selectedItem:void 0}},computed:c(i(i({},y("notification",["msgData"])),x("notification",["unreadMsg","readMsg"])),{msgDataList(){return this.tabValue==="msgData"?this.msgData:this.tabValue==="unreadMsg"?this.unreadMsg:this.tabValue==="readMsg"?this.readMsg:[]}}),methods:{handleClickDeleteBtn(t){this.visible=!0,this.selectedItem=t},setReadStatus(t){const s=this.msgData;s.forEach(e=>{e.id===t.id&&e.status&&(e.status=!1)}),this.$store.commit("notification/setMsgData",s)},deleteMsg(){const t=this.selectedItem,s=this.msgData;s.forEach((e,n)=>{e.id===t.id&&s.splice(n,1)}),this.visible=!1,this.$store.commit("notification/setMsgData",s)}}},u=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"secondary-notification"},[e("t-tabs",{model:{value:t.tabValue,callback:function(n){t.tabValue=n},expression:"tabValue"}},t._l(t.TAB_LIST,function(n,g){return e("t-tab-panel",{key:g,attrs:{value:n.value,label:n.label}},[t.msgDataList.length>0?e("t-list",{staticClass:"secondary-msg-list",attrs:{split:!0}},t._l(t.msgDataList,function(a,_){return e("t-list-item",{key:_,scopedSlots:t._u([{key:"action",fn:function(){return[e("span",{staticClass:"msg-date"},[t._v(t._s(a.date))]),e("div",{staticClass:"msg-action"},[e("t-tooltip",{staticClass:"set-read-icon",attrs:{"overlay-style":{margin:"6px"},content:a.status?"\u8BBE\u4E3A\u5DF2\u8BFB":"\u8BBE\u4E3A\u672A\u8BFB"}},[e("span",{staticClass:"msg-action-icon",on:{click:function(l){return t.setReadStatus(a)}}},[a.status?e("t-icon",{attrs:{name:"queue",size:"16px"}}):e("t-icon",{attrs:{name:"chat"}})],1)]),e("t-tooltip",{attrs:{content:"\u5220\u9664\u901A\u77E5","overlay-style":{margin:"6px"}}},[e("span",{on:{click:function(l){return t.handleClickDeleteBtn(a)}}},[e("t-icon",{attrs:{name:"delete",size:"16px"}})],1)])],1)]},proxy:!0}],null,!0)},[e("p",{class:["content",{unread:a.status}],on:{click:function(l){return t.setReadStatus(a)}}},[e("t-tag",{attrs:{size:"small",theme:t.NOTIFICATION_TYPES[a.quality],variant:"light"}},[t._v(" "+t._s(a.type)+" ")]),t._v(" "+t._s(a.content)+" ")],1)])}),1):e("div",{staticClass:"secondary-msg-list__empty-list"},[e("img",{attrs:{src:"https://tdesign.gtimg.com/pro-template/personal/nothing.png",alt:"\u7A7A"}}),e("p",[t._v("\u6682\u65E0\u901A\u77E5")])])],1)}),1)],1),e("t-dialog",{attrs:{header:"\u5220\u9664\u901A\u77E5",body:"\u786E\u8BA4\u5220\u9664\u901A\u77E5\uFF1A"+(t.selectedItem&&t.selectedItem.content)+"\u5417\uFF1F",visible:t.visible,onConfirm:t.deleteMsg},on:{"update:visible":function(n){t.visible=n}}})],1)},T=[];u._withStripped=!0;const d={};var m=M(S,u,T,!1,k,"85700486",null,null);function k(t){for(let s in d)this[s]=d[s]}m.options.__file="src/pages/detail/secondary/index.vue";var F=function(){return m.exports}();export{F as default};
