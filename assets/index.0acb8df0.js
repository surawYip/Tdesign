var f=Object.defineProperty,h=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var o=(t,a,e)=>a in t?f(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,n=(t,a)=>{for(var e in a||(a={}))E.call(a,e)&&o(t,e,a[e]);if(l)for(var e of l(a))b.call(a,e)&&o(t,e,a[e]);return t},i=(t,a)=>h(t,F(a));import{n as c,p as D}from"./index.424e46e8.js";import{C as y}from"./index.26dadf3c.js";import{V as B}from"./vendor.726b2fae.js";class k{getBaseInfoData(){return[{name:"\u5408\u540C\u540D\u79F0",value:"\u603B\u90E8\u529E\u516C\u7528\u54C1\u91C7\u8D2D\u9879\u76EE"},{name:"\u5408\u540C\u72B6\u6001",value:"\u5C65\u884C\u4E2D",type:{key:"contractStatus",value:"inProgress"}},{name:"\u5408\u540C\u7F16\u53F7",value:"BH00010"},{name:"\u5408\u540C\u7C7B\u578B",value:"\u4E3B\u5408\u540C"},{name:"\u5408\u540C\u6536\u4ED8\u7C7B\u578B",value:"\u4ED8\u6B3E"},{name:"\u5408\u540C\u91D1\u989D",value:"5,000,000\u5143"},{name:"\u7532\u65B9",value:"\u5E7F\u54A8\u56FD\u9645\u80A1\u4EFD\u6709\u9650\u516C\u53F8"},{name:"\u4E59\u65B9",value:"\u6B27\u5C1A"},{name:"\u5408\u540C\u7B7E\u8BA2\u65E5\u671F",value:"2020-12-20"},{name:"\u5408\u540C\u751F\u6548\u65E5\u671F",value:"2021-01-20"},{name:"\u5408\u540C\u7ED3\u675F\u65E5\u671F",value:"2022-12-20"},{name:"\u5408\u540C\u9644\u4EF6",value:"\u603B\u90E8\u529E\u516C\u7528\u54C1\u91C7\u8D2D\u9879\u76EE\u5408\u540C.pdf",type:{key:"contractAnnex",value:"pdf"}},{name:"\u5907\u6CE8",value:"--"},{name:"\u521B\u5EFA\u65F6\u95F4",value:"2020-12-22 10:00:00"}]}getTableColumns(){return[{width:300,ellipsis:!0,colKey:"index",title:"\u7533\u8BF7\u53F7",sorter:(a,e)=>a.index.substr(3)-e.index.substr(3)},{width:200,ellipsis:!0,colKey:"pdName",title:"\u4EA7\u54C1\u540D\u79F0",sorter:(a,e)=>a.pdName.length-e.pdName.length},{width:200,ellipsis:!0,colKey:"pdNum",title:"\u4EA7\u54C1\u7F16\u53F7"},{width:200,ellipsis:!0,colKey:"purchaseNum",title:"\u91C7\u8D2D\u6570\u91CF",sorter:(a,e)=>a.purchaseNum-e.purchaseNum},{width:200,ellipsis:!0,colKey:"adminName",title:"\u7533\u8BF7\u90E8\u95E8"},{width:200,ellipsis:!0,colKey:"updateTime",title:"\u521B\u5EFA\u65F6\u95F4",sorter:(a,e)=>Date.parse(a.updateTime)-Date.parse(e.updateTime)},{align:"left",fixed:"right",width:200,className:"test2",colKey:"op",title:"\u64CD\u4F5C"}]}getPropUpData(){return{formData:n({},{name:"",warning:"",success:"",failB:"",warningB:"",loading:"",add:"",help:""}),courseOptions:[{label:"\u8BED\u6587",value:"1"},{label:"\u6570\u5B66",value:"2"},{label:"\u82F1\u8BED",value:"3"}],options:[{label:"\u8D44\u6E90\u521D\u59CB\u5316\u540E",value:"beijing"},{label:"\u4E0A\u6D77",value:"shanghai"}],options1:[{label:"\u8D44\u6E90\u521D\u59CB\u5316\u540E",value:"guangzhou"},{label:"\u6DF1\u5733",value:"shenzhen"},{label:"\u4E1C\u839E",value:"dongguang"}],options2:[{label:"\u8D44\u6E90\u521D\u59CB\u5316\u540E",value:"nanjing"},{label:"\u82CF\u5DDE",value:"\u82CF\u5DDE"},{label:"\u65E0\u9521",value:"wuxi"}],tSelectOptions:[{label:"Sanzhang",value:"1"},{label:"ls",value:"2"},{label:"James",value:"3"}]}}}var p=new k,A=B.extend({props:{data:{type:Object,default:()=>({})}}}),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"operater-block operater-gap"},[e("div",{staticClass:"operater-content"},[e("div",{staticClass:"operater-title"},[e("t-icon",{staticClass:"operater-title-icon",attrs:{name:"cart"}}),e("h1",[t._v(t._s(t.data.name))]),e("div",{staticClass:"operater-title-subtitle"},[t._v(" "+t._s(t.data.subtitle)+" ")]),e("div",{staticClass:"operater-title-tags"},[e("t-tag",{staticClass:"operater-title-tag",attrs:{theme:"success",size:"small"}},[t._v(" "+t._s(t.data.size)+" ")]),e("t-tag",{staticClass:"operater-title-tag",attrs:{size:"small"}},[t._v(" "+t._s(t.data.cpu)+" ")]),e("t-tag",{staticClass:"operater-title-tag",attrs:{size:"small"}},[t._v(" "+t._s(t.data.memory)+" ")])],1)],1),e("div",{staticClass:"operater-item"},[e("span",{staticClass:"operater-item-info"},[t._v(t._s(t.data.info))]),e("t-icon",{staticClass:"operater-item-icon",attrs:{name:"chevron-right",size:"small"}})],1)]),e("div",{staticClass:"operater-footer"},[e("span",{staticClass:"operater-footer-percentage"},[t._v(t._s(t.data.use)+" / "+t._s(t.data.stock)+"\uFF08\u53F0\uFF09")]),e("t-progress",{staticClass:"operater-progress",attrs:{theme:"line",percentage:t.data.use/t.data.stock*100,label:!1,color:t.data.use/t.data.stock<.5?"#E24D59":"","track-color":t.data.use/t.data.stock<.5?"var(--td-error-color-1)":"var(--td-brand-color-1)"}})],1)])},x=[];d._withStripped=!0;const v={};var _=c(A,d,x,!1,w,"06e0cc29",null,null);function w(t){for(let a in v)this[a]=v[a]}_.options.__file="src/pages/detail/advanced/components/Product.vue";var T=function(){return _.exports}();const z=[{name:"MacBook Pro 2021",subTitle:"MacBook Pro 2021",size:"13.3 \u82F1\u5BF8",cpu:"Apple M1",memory:"RAM 16GB",info:"\u6700\u9AD8\u53EF\u9009\u914D 16GB \u5185\u5B58 \xB7 \u6700\u9AD8\u53EF\u9009\u914D 2TB \u5B58\u50A8\u8BBE\u5907 \u7535\u6C60\u7EED\u822A\u6700\u957F\u8FBE 18 \u5C0F\u65F6",use:1420,stock:1500},{name:"Surface Laptop Go",subTitle:"\u5FAE\u8F6F\uFF08Microsoft Corporation\uFF09",size:"12.4 \u82F1\u5BF8",cpu:"Core i7",memory:"RAM 16GB",info:"\u5E38\u89C4\u4F7F\u7528 Surface\uFF0C\u7EED\u822A\u65F6\u95F4\u6700\u957F\u53EF\u8FBE13\u5C0F\u65F6 \u968F\u65F6\u4F34\u60A8\u5DE5\u4F5C",use:120,stock:2e3}];var N={name:"detail-base",components:{Card:y,Product:T},data(){return{data:[],prefix:D,updateCurrent:0,columns:p.getTableColumns(),baseInfoData:p.getBaseInfoData(),bordered:!0,hover:!0,visible:!1,pagination:{defaultPageSize:10,total:100,defaultCurrent:1,pageSizeOptions:[]},PRODUCT_LIST:z}},async mounted(){setInterval(()=>{this.updateCurrent>5&&(this.updateCurrent=-1),this.updateCurrent+=1},2e3),this.$request.get("/api/get-purchase-list").then(t=>{if(t.code===0){const{list:a=[]}=t.data;this.data=a,this.pagination=i(n({},this.pagination),{total:a.length})}}).catch(t=>{console.log(t)})},methods:{onAlertChange(t){console.log(t)},sortChange(t){console.log(t)},rehandleChange(t,a){console.log("\u7EDF\u4E00Change",t,a)},listClick(t){console.log(t),this.visible=!0},deleteClickOp(t){console.log(t,"e"),this.data.splice(t.rowIndex,1)},onConfirm(){this.visible=!1}}},C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("card",{staticClass:"advanced-card",attrs:{title:"\u57FA\u672C\u4FE1\u606F"}},[e("div",{staticClass:"info-block"},t._l(t.baseInfoData,function(u,s){var r;return e("div",{key:s,staticClass:"info-item"},[e("h1",[t._v(t._s(u.name))]),e("span",{class:(r={},r.inProgress=u.type&&u.type.value==="inProgress",r.pdf=u.type&&u.type.value==="pdf",r)},[u.type&&u.type.key==="contractStatus"?e("i"):t._e(),t._v(" "+t._s(u.value)+" ")])])}),0)]),e("card",{staticClass:"container-base-margin-top",attrs:{title:"\u53D1\u7968\u8FDB\u5EA6"}},[e("t-row",{class:t.prefix+"-operater-row row-padding",attrs:{justify:"space-between"}},[[e("t-steps",{attrs:{current:t.updateCurrent}},[e("t-step-item",{attrs:{title:"\u7533\u8BF7\u63D0\u4EA4",content:"\u5DF2\u4E8E12\u670821\u65E5\u63D0\u4EA4"}}),e("t-step-item",{attrs:{title:"\u7535\u5B50\u53D1\u7968",content:"\u9884\u8BA11\uFF5E3\u4E2A\u5DE5\u4F5C\u65E5"}}),e("t-step-item",{attrs:{title:"\u53D1\u7968\u5DF2\u90AE\u5BC4",content:"\u7535\u5B50\u53D1\u7968\u5F00\u51FA\u540E7\u4E2A\u5DE5\u4F5C\u65E5\u5185\u8054\u7CFB"}}),e("t-step-item",{attrs:{title:"\u5B8C\u6210",content:""}})],1)]],2)],1),e("card",{staticClass:"container-base-margin-top",attrs:{title:"\u4EA7\u54C1\u76EE\u5F55"}},[e("template",{slot:"option"},[e("t-radio-group",{attrs:{"default-value":"dateVal"},on:{change:t.onAlertChange}},[e("t-radio-button",{attrs:{value:"dateVal"}},[t._v("\u5B63\u5EA6")]),e("t-radio-button",{attrs:{value:"monthVal"}},[t._v("\u6708\u4EFD")])],1)],1),e("t-row",{staticClass:"product-block-container",attrs:{gutter:16}},[e("t-col",{attrs:{xl:4}},[e("div",{staticClass:"product-add"},[e("div",{staticClass:"product-sub"},[e("t-icon",{staticClass:"product-sub-icon",attrs:{name:"add"}}),e("span",[t._v("\u65B0\u589E\u4EA7\u54C1")])],1)])]),t._l(t.PRODUCT_LIST,function(u,s){return e("t-col",{key:s,attrs:{xl:4}},[e("product",{attrs:{data:u}})],1)})],2)],2),e("card",{staticClass:"container-base-margin-top",attrs:{title:"\u4EA7\u54C1\u91C7\u8D2D\u660E\u7EC6"}},[e("t-table",{attrs:{columns:t.columns,data:t.data,pagination:t.pagination,hover:t.hover,size:"large","row-key":"index"},on:{"sort-change":t.sortChange,change:t.rehandleChange},scopedSlots:t._u([{key:"pdName",fn:function(u){var s=u.row;return[e("span",[t._v(" "+t._s(s.pdName)+" "),s.pdType?e("t-tag",{attrs:{size:"small"}},[t._v(t._s(s.pdType))]):t._e()],1)]}},{key:"purchaseNum",fn:function(u){var s=u.row;return[e("span",[t._v(" "+t._s(s.purchaseNum)+" "),s.purchaseNum>50?e("t-tag",{attrs:{theme:"danger",variant:"light",size:"small"}},[t._v("\u8D85\u9884\u7B97")]):t._e()],1)]}},{key:"op",fn:function(u){return[e("a",{staticClass:"t-button-link",on:{click:function(s){return t.listClick(u)}}},[t._v("\u7BA1\u7406")]),e("a",{staticClass:"t-button-link",on:{click:function(s){return t.deleteClickOp(u)}}},[t._v("\u5220\u9664")])]}}])},[e("t-icon",{attrs:{slot:"op-column",name:"descending-order"},slot:"op-column"})],1)],1),e("t-dialog",{attrs:{header:"\u57FA\u672C\u4FE1\u606F",visible:t.visible},on:{"update:visible":function(u){t.visible=u},confirm:t.onConfirm}},[e("div",{attrs:{slot:"body"},slot:"body"},[e("div",{staticClass:"dialog-info-block"},t._l(t.baseInfoData,function(u,s){var r;return e("div",{key:s,staticClass:"info-item"},[e("h1",[t._v(t._s(u.name))]),e("span",{class:(r={},r.inProgress=u.type&&u.type.value==="inProgress",r.pdf=u.type&&u.type.value==="pdf",r)},[u.type&&u.type.key==="contractStatus"?e("i"):t._e(),t._v(" "+t._s(u.value)+" ")])])}),0)])])],1)},S=[];C._withStripped=!0;const m={};var g=c(N,C,S,!1,I,"b4e2ae62",null,null);function I(t){for(let a in m)this[a]=m[a]}g.options.__file="src/pages/detail/advanced/index.vue";var O=function(){return g.exports}();export{O as default};
